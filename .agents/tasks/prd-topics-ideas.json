{
  "version": 1,
  "project": "Topics & Ideas Manager",
  "overview": "A topic and idea management system allowing users to create topics, add ideas with feedback, tag content, search/filter, and archive items.",
  "goals": [
    "Enable users to create and manage topics with name, description, and tags",
    "Enable users to add ideas to topics with name, description, tags, and feedback ratings",
    "Support ad-hoc tag creation while editing topics and ideas",
    "Provide search and filter capabilities (text, tag, rating)",
    "Allow moving ideas between topics",
    "Export and import data in JSON format"
  ],
  "nonGoals": [
    "User authentication (single-user application)",
    "Real-time collaboration",
    "Version history for edits",
    "Automatic priority ranking",
    "Social sharing features"
  ],
  "successMetrics": [
    "Users can create a topic with tags in under 30 seconds",
    "Users can search for ideas and filter by tags or rating in under 3 clicks",
    "Moving an idea between topics requires fewer than 5 interactions"
  ],
  "openQuestions": [],
  "stack": {
    "framework": "React 19 with Bun",
    "hosting": "Static file hosting",
    "database": "SQLite (bun:sqlite)",
    "auth": "None (single-user application)"
  },
  "routes": [
    {
      "path": "/",
      "name": "Dashboard",
      "purpose": "Main view showing all topics with idea counts"
    },
    {
      "path": "/topics/new",
      "name": "New Topic",
      "purpose": "Create a new topic"
    },
    {
      "path": "/topics/:id",
      "name": "Topic Detail",
      "purpose": "View topic details and associated ideas"
    },
    {
      "path": "/topics/:id/edit",
      "name": "Edit Topic",
      "purpose": "Edit topic name, description, and tags"
    },
    {
      "path": "/ideas/new",
      "name": "New Idea",
      "purpose": "Create a new idea (with topic selection)"
    },
    {
      "path": "/ideas/:id",
      "name": "Idea Detail",
      "purpose": "View idea details, add/edit feedback"
    },
    {
      "path": "/ideas/:id/edit",
      "name": "Edit Idea",
      "purpose": "Edit idea fields, tags, and move to different topic"
    },
    {
      "path": "/archive",
      "name": "Archive",
      "purpose": "View and restore archived topics and ideas"
    },
    {
      "path": "/export",
      "name": "Export",
      "purpose": "Export all data as JSON"
    },
    {
      "path": "/import",
      "name": "Import",
      "purpose": "Import data from JSON file"
    }
  ],
  "uiNotes": [
    "Dashboard layout: Sidebar with navigation, main content area with topic cards",
    "Topic card: name, description, tag badges, idea count, action buttons",
    "Idea list: card or table view with name, tags, feedback rating, action buttons",
    "Tag input: autocomplete showing existing tags, allow creating new tags",
    "Rating component: 1-5 star display with optional text notes",
    "Archive UI: separate page showing hidden items with restore option",
    "Modals for quick actions (e.g., delete confirmation, quick edit)"
  ],
  "dataModel": [
    {
      "entity": "Topic",
      "fields": [
        "id (primary key)",
        "name (text, required)",
        "description (text, optional)",
        "isArchived (boolean, default false)",
        "createdAt (timestamp)",
        "updatedAt (timestamp)"
      ]
    },
    {
      "entity": "Idea",
      "fields": [
        "id (primary key)",
        "topicId (foreign key)",
        "name (text, required)",
        "description (text, optional)",
        "isArchived (boolean, default false)",
        "createdAt (timestamp)",
        "updatedAt (timestamp)"
      ]
    },
    {
      "entity": "Tag",
      "fields": [
        "id (primary key)",
        "name (text, unique, required)"
      ]
    },
    {
      "entity": "TopicTag (join table)",
      "fields": [
        "topicId (foreign key)",
        "tagId (foreign key)",
        "primary key: (topicId, tagId)"
      ]
    },
    {
      "entity": "IdeaTag (join table)",
      "fields": [
        "ideaId (foreign key)",
        "tagId (foreign key)",
        "primary key: (ideaId, tagId)"
      ]
    },
    {
      "entity": "Feedback",
      "fields": [
        "id (primary key)",
        "ideaId (foreign key)",
        "rating (integer, 1-5, required)",
        "notes (text, optional)",
        "createdAt (timestamp)",
        "updatedAt (timestamp)"
      ]
    }
  ],
  "importFormat": {
    "description": "JSON export/import format containing topics, ideas, tags, and feedback",
    "example": {
      "version": 1,
      "exportedAt": "2026-01-16T00:00:00Z",
      "topics": [
        {
          "id": "uuid",
          "name": "Topic Name",
          "description": "Description",
          "isArchived": false,
          "tags": [
            "tag1",
            "tag2"
          ]
        }
      ],
      "ideas": [
        {
          "id": "uuid",
          "topicId": "topic-uuid",
          "name": "Idea Name",
          "description": "Description",
          "isArchived": false,
          "tags": [
            "tag1"
          ],
          "feedback": {
            "rating": 4,
            "notes": "Optional notes"
          }
        }
      ]
    }
  },
  "rules": [
    "Topic names must be unique",
    "Tag names are case-insensitive",
    "Feedback rating must be between 1 and 5",
    "Archived items (isArchived=true) are hidden from main views",
    "Moving an idea to a different topic requires updating topicId",
    "Deleting a topic must cascade delete all associated ideas and their feedback/tags",
    "Import must validate required fields before inserting data"
  ],
  "qualityGates": [
    "bun test",
    "bun run lint",
    "bun run typecheck",
    "bun run build"
  ],
  "stories": [
    {
      "id": "US-001",
      "title": "Initialize project and setup development environment",
      "status": "in_progress",
      "dependsOn": [],
      "description": "As a developer, I want a new project scaffold with Bun, React 19, and SQLite so that I can start building the application.",
      "acceptanceCriteria": [
        "Initialize Bun project with package.json",
        "Install React 19, React DOM, and Shadcn UI dependencies",
        "Setup Bun.serve entry point in src/index.ts",
        "Create src/index.html with React client mount",
        "Create src/frontend.tsx with HMR configuration",
        "Create src/App.tsx with basic routing structure",
        "Setup tsconfig.json with React and path aliases (@/*)",
        "Create styles/globals.css with Tailwind v4 and CSS variables",
        "Add dev script: bun run dev",
        "Add build script: bun run build",
        "Add test script: bun test",
        "Create example test file to verify setup",
        "Example: visiting localhost:3000 shows 'Hello World'",
        "Negative case: bun test fails if tests are broken",
        "Build completes without errors"
      ],
      "startedAt": "2026-01-16T02:25:21.841226+00:00",
      "completedAt": null,
      "updatedAt": "2026-01-16T02:25:21.841358+00:00"
    },
    {
      "id": "US-002",
      "title": "Setup SQLite database schema",
      "status": "open",
      "dependsOn": [
        "US-001"
      ],
      "description": "As a developer, I want a SQLite database with tables for topics, ideas, tags, and feedback so that data persists across sessions.",
      "acceptanceCriteria": [
        "Create database directory and initialize bun:sqlite connection",
        "Create topics table with schema",
        "Create ideas table with foreign key to topics",
        "Create tags table for tag definitions",
        "Create topic_tags join table",
        "Create idea_tags join table",
        "Create feedback table with foreign key to ideas",
        "Add indexes for foreign keys",
        "Create database initialization script",
        "Example: running init script creates all tables",
        "Negative case: duplicate topic name throws error",
        "Foreign key constraints enforced (can't delete topic with ideas)",
        "Run bun test to verify database schema"
      ]
    },
    {
      "id": "US-003",
      "title": "Create dashboard with topic list",
      "status": "done",
      "dependsOn": [
        "US-002"
      ],
      "description": "As a user, I want to see all my topics in a dashboard so that I can navigate to them quickly.",
      "acceptanceCriteria": [
        "Create / route with dashboard layout",
        "Query all non-archived topics from database",
        "Display topic cards with name, description, tag badges, idea count",
        "Add 'New Topic' button linking to /topics/new",
        "Add navigation link to archive page",
        "Example: dashboard shows 3 topics with respective idea counts",
        "Negative case: archived topics not visible on dashboard",
        "Clicking a topic card navigates to /topics/:id",
        "Empty state shows 'No topics yet' message",
        "Responsive layout (mobile, tablet, desktop)",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "updatedAt": "2026-01-16T03:07:35.677486+00:00",
      "completedAt": "2026-01-16T03:07:35.677651+00:00",
      "startedAt": "2026-01-16T03:07:35.677653+00:00"
    },
    {
      "id": "US-004",
      "title": "Create new topic",
      "status": "done",
      "dependsOn": [
        "US-003"
      ],
      "description": "As a user, I want to create a new topic with name, description, and tags so that I can organize my ideas.",
      "acceptanceCriteria": [
        "Create /topics/new route with form",
        "Form fields: name (required), description (optional), tags (optional)",
        "Tag input with autocomplete showing existing tags",
        "Allow creating new tags on the fly",
        "Validation: name is required",
        "On submit: insert topic, insert new tags (if any), link tags to topic",
        "Redirect to topic detail page on success",
        "Example: create topic 'Startup Ideas' with tags 'business', 'tech'",
        "Negative case: submit without name shows validation error",
        "Tags are case-insensitive (duplicate tags rejected)",
        "Form clears on success",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "startedAt": "2026-01-16T03:07:37.765063+00:00",
      "completedAt": "2026-01-16T03:18:27.421653+00:00",
      "updatedAt": "2026-01-16T03:18:27.421492+00:00"
    },
    {
      "id": "US-005",
      "title": "View topic details and ideas list",
      "status": "done",
      "dependsOn": [
        "US-004"
      ],
      "description": "As a user, I want to view a topic's details and see all ideas in that topic so that I can review my content.",
      "acceptanceCriteria": [
        "Create /topics/:id route",
        "Query topic by id (404 if not found or archived)",
        "Display topic name, description, tag badges",
        "Query all non-archived ideas for this topic",
        "Display ideas list with name, tags, feedback rating",
        "Add 'New Idea' button linking to /ideas/new?topicId=:id",
        "Add 'Edit Topic' button linking to /topics/:id/edit",
        "Add 'Delete Topic' button with confirmation modal",
        "Example: topic with 3 ideas shows all 3",
        "Negative case: navigating to archived topic id shows 404",
        "Clicking idea card navigates to /ideas/:id",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "startedAt": "2026-01-16T03:18:29.470163+00:00",
      "completedAt": "2026-01-16T03:29:15.750027+00:00",
      "updatedAt": "2026-01-16T03:29:15.749876+00:00"
    },
    {
      "id": "US-006",
      "title": "Edit topic",
      "status": "done",
      "dependsOn": [
        "US-005"
      ],
      "description": "As a user, I want to edit a topic's name, description, and tags so that I can keep my content up to date.",
      "acceptanceCriteria": [
        "Create /topics/:id/edit route with pre-filled form",
        "Form fields: name, description, tags (pre-populated)",
        "Tag input with autocomplete (existing + new)",
        "Validation: name required",
        "On submit: update topic, sync tags (add new, remove unchecked)",
        "Redirect to topic detail page on success",
        "Example: update topic name and add new tag",
        "Negative case: submit empty name shows validation error",
        "Tag sync removes unchecked tags and adds new ones",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "startedAt": "2026-01-16T03:29:17.843398+00:00",
      "completedAt": "2026-01-16T03:39:59.014024+00:00",
      "updatedAt": "2026-01-16T03:39:59.013870+00:00"
    },
    {
      "id": "US-007",
      "title": "Delete topic",
      "status": "done",
      "dependsOn": [
        "US-005"
      ],
      "description": "As a user, I want to delete a topic so that I can remove content I no longer need.",
      "acceptanceCriteria": [
        "Add 'Delete Topic' button on topic detail page",
        "Show confirmation modal with topic name",
        "On confirm: soft delete (set isArchived=true)",
        "Cascade soft delete to all ideas in topic",
        "Redirect to dashboard on success",
        "Example: deleting topic archives it and all its ideas",
        "Negative case: trying to access archived topic returns 404",
        "Confirmation requires clicking 'Confirm' (not 'Cancel')",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "startedAt": "2026-01-16T03:40:01.078654+00:00",
      "completedAt": "2026-01-16T03:50:06.088155+00:00",
      "updatedAt": "2026-01-16T03:50:06.088011+00:00"
    },
    {
      "id": "US-008",
      "title": "Create new idea",
      "status": "in_progress",
      "dependsOn": [
        "US-004"
      ],
      "description": "As a user, I want to create a new idea with name, description, and tags so that I can capture my thoughts.",
      "acceptanceCriteria": [
        "Create /ideas/new route with form",
        "Form fields: topic (dropdown, required), name (required), description (optional), tags (optional)",
        "Topic dropdown shows all non-archived topics",
        "Tag input with autocomplete",
        "Allow creating new tags on the fly",
        "Validation: topic and name required",
        "On submit: insert idea, insert new tags (if any), link tags to idea",
        "Redirect to idea detail page on success",
        "Example: create idea 'AI Assistant' in topic 'Startup Ideas'",
        "Negative case: submit without topic or name shows validation",
        "Tags are case-insensitive",
        "Run bun test, bun run lint, bun run typecheck"
      ],
      "startedAt": "2026-01-16T03:50:08.151794+00:00",
      "completedAt": null,
      "updatedAt": "2026-01-16T03:50:08.151999+00:00"
    },
    {
      "id": "US-009",
      "title": "View idea details and feedback",
      "status": "open",
      "dependsOn": [
        "US-008"
      ],
      "description": "As a user, I want to view an idea's details and add/edit feedback so that I can track my thoughts.",
      "acceptanceCriteria": [
        "Create /ideas/:id route",
        "Query idea by id (404 if not found or if topic archived)",
        "Display idea name, description, tag badges, parent topic link",
        "Display feedback section: rating (stars), notes (if any)",
        "Add 'Edit Idea' button",
        "Add 'Delete Idea' button with confirmation",
        "Add 'Add Feedback' form if no feedback exists",
        "Add 'Edit Feedback' button if feedback exists",
        "Example: idea with 4-star rating and notes",
        "Negative case: navigating to archived idea shows 404",
        "Rating displayed as 1-5 stars",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-010",
      "title": "Add/edit feedback to idea",
      "status": "open",
      "dependsOn": [
        "US-009"
      ],
      "description": "As a user, I want to add feedback (rating + notes) to an idea so that I can evaluate it.",
      "acceptanceCriteria": [
        "Create feedback form with: rating (1-5 stars, required), notes (optional text area)",
        "On submit: insert or update feedback for idea",
        "Rating component: clickable stars with visual feedback",
        "Notes validation: max 500 characters",
        "Example: add 5-star rating with 'Great idea!' note",
        "Negative case: submit without rating shows validation error",
        "Editing feedback pre-fills existing values",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-011",
      "title": "Edit idea and move between topics",
      "status": "open",
      "dependsOn": [
        "US-009"
      ],
      "description": "As a user, I want to edit an idea's details and move it to a different topic so that I can reorganize content.",
      "acceptanceCriteria": [
        "Create /ideas/:id/edit route with pre-filled form",
        "Form fields: topic (dropdown), name, description, tags",
        "Topic dropdown shows all non-archived topics",
        "Changing topic updates idea's topicId",
        "Tag input with autocomplete",
        "Validation: topic and name required",
        "On submit: update idea, sync tags",
        "Redirect to idea detail page on success",
        "Example: move idea from topic A to topic B",
        "Negative case: submit without required fields shows validation",
        "Tag sync adds new tags and removes unchecked",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-012",
      "title": "Delete idea",
      "status": "open",
      "dependsOn": [
        "US-009"
      ],
      "description": "As a user, I want to delete an idea so that I can remove content I no longer need.",
      "acceptanceCriteria": [
        "Add 'Delete Idea' button on idea detail page",
        "Show confirmation modal with idea name",
        "On confirm: soft delete (set isArchived=true)",
        "Redirect to parent topic page on success",
        "Example: deleting idea hides it from topic view",
        "Negative case: navigating to deleted idea returns 404",
        "Confirmation requires clicking 'Confirm'",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-013",
      "title": "Text search for topics and ideas",
      "status": "open",
      "dependsOn": [
        "US-003"
      ],
      "description": "As a user, I want to search topics and ideas by text so that I can quickly find specific content.",
      "acceptanceCriteria": [
        "Add search bar to dashboard (persistent across pages)",
        "Search input queries topics and ideas by name and description",
        "Display search results on /search route",
        "Results show type (topic/idea), name, description snippet, tags",
        "Clicking result navigates to detail page",
        "Example: searching 'startup' returns matching topics and ideas",
        "Negative case: empty search returns no results page",
        "Search is case-insensitive",
        "Debounce search input (300ms)",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-014",
      "title": "Filter by tags",
      "status": "open",
      "dependsOn": [
        "US-003"
      ],
      "description": "As a user, I want to filter topics and ideas by tags so that I can browse related content.",
      "acceptanceCriteria": [
        "Add 'Filter by tags' dropdown on dashboard and topic pages",
        "Dropdown shows all existing tags with counts",
        "Selecting tag filters results to show only items with that tag",
        "Can select multiple tags (AND logic)",
        "Clear filter option to reset",
        "Example: filtering by 'business' shows only topics/ideas tagged 'business'",
        "Negative case: selecting unused tag shows no results",
        "Tag counts update in real-time",
        "Filter persists in URL query params",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-015",
      "title": "Filter by feedback rating",
      "status": "open",
      "dependsOn": [
        "US-009"
      ],
      "description": "As a user, I want to filter ideas by feedback rating so that I can prioritize based on quality.",
      "acceptanceCriteria": [
        "Add 'Filter by rating' dropdown on topic pages",
        "Options: 5 stars, 4+ stars, 3+ stars, 2+ stars, 1+ stars",
        "Filtering shows only ideas meeting rating threshold",
        "Ideas without feedback excluded from rating filters",
        "Example: filtering '4+ stars' shows ideas with rating 4 or 5",
        "Negative case: selecting '5 stars' with no 5-star ideas shows empty list",
        "Filter persists in URL query params",
        "Clear filter option",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-016",
      "title": "View archive and restore items",
      "status": "open",
      "dependsOn": [
        "US-007",
        "US-012"
      ],
      "description": "As a user, I want to view archived items and restore them so that I can recover deleted content.",
      "acceptanceCriteria": [
        "Create /archive route",
        "Show two sections: Archived Topics, Archived Ideas",
        "Display archived items with name, description, tags",
        "Add 'Restore' button for each item",
        "Restoring a topic also restores its ideas",
        "Restoring an idea checks if parent topic is archived (restore both if needed)",
        "Example: archive page shows 2 topics and 5 ideas",
        "Negative case: archived items not visible on main pages",
        "Confirmation modal before restore",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-017",
      "title": "Export data to JSON",
      "status": "open",
      "dependsOn": [
        "US-002"
      ],
      "description": "As a user, I want to export all my data as JSON so that I can backup or migrate my content.",
      "acceptanceCriteria": [
        "Create /export route",
        "Query all topics, ideas, tags, and feedback (including archived)",
        "Format data according to importFormat specification",
        "Add version and exportedAt timestamp",
        "Generate JSON file download",
        "Add 'Export Data' link in sidebar",
        "Example: export includes all topics with nested ideas and tags",
        "Negative case: empty database exports valid JSON with empty arrays",
        "File name format: ideas-export-YYYY-MM-DD.json",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-018",
      "title": "Import data from JSON",
      "status": "open",
      "dependsOn": [
        "US-017"
      ],
      "description": "As a user, I want to import data from a JSON file so that I can restore a backup or migrate content.",
      "acceptanceCriteria": [
        "Create /import route with file upload",
        "Accept .json files only",
        "Validate JSON structure and version",
        "Validate required fields (name, rating 1-5)",
        "Import topics first, then ideas, then tags/feedback",
        "Handle duplicates by skipping (log warnings)",
        "Show success/error summary after import",
        "Example: import adds 5 topics and 20 ideas",
        "Negative case: invalid JSON shows error message",
        "Missing required fields causes import to fail with specific error",
        "Run bun test, bun run lint, bun run typecheck"
      ]
    },
    {
      "id": "US-019",
      "title": "Setup quality gates and CI validation",
      "status": "open",
      "dependsOn": [
        "US-001"
      ],
      "description": "As a developer, I want quality gate commands to run and pass so that code quality is maintained.",
      "acceptanceCriteria": [
        "Ensure bun test runs and passes all tests",
        "Ensure bun run lint runs without errors",
        "Ensure bun run typecheck runs without errors",
        "Ensure bun run build completes successfully",
        "Add lint configuration to package.json",
        "Add typecheck script to package.json",
        "Example: running all quality gates in sequence completes successfully",
        "Negative case: failing tests cause quality gate to fail",
        "Type errors are caught by typecheck script",
        "Lint errors are caught by lint script",
        "Build fails on type errors",
        "Run bun test, bun run lint, bun run typecheck, bun run build"
      ]
    }
  ]
}
